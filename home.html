<!DOCTYPE html>
<html lang="UTF-8">
<head>
    <meta charset="UTF-8">
    <title>Airbnbfy</title>
    <style>
        body {
            display : flex;
            justify-content: center;
        }
        h1 {
            text-align: center;
        }
        
        #convertBtn {
            background-color: cadetblue;
            color : whitesmoke;
        }
        
        #delBtn {
            background-color: firebrick;
            color : whitesmoke;
        }

        textarea {
            display: block;
        }
        #convertBtn, #delBtn {
            display : block;
            padding : 10px;
            margin: 10px;
            border-radius: 10px;
            border : 0;
            box-shadow: 2px 2px 2px black;
            width: 100px;
        }
    </style>
</head>
<body>
    
    <div class="contents">
        <h1>한글 난독화</h1>
        <textarea name="before" id="before" cols="30" rows="10"></textarea>
        
        <button id="convertBtn" onclick="convert()">변환하기</button>
        <button id="delBtn" onclick="del()">내용지우기</button>
        
        <textarea name="after" id="after" cols="30" rows="10"></textarea>
        
    </div>
    
    <script>
        const before = document.querySelector("#before");
        const after = document .querySelector("#after");

        function convert(){
            const beforArray = (before.value).split("");
            const afterArray = [];
            beforArray.forEach((char)=>{
                const uni = Number(char.charCodeAt(0));
                let ranNum = (Math.random()*3);
                let convertNum = Math.floor(ranNum);
                //32는 공백, 46은 .
                if(uni!=32 && uni!=46 && uni!=39 && uni!=34 && uni!=45 && uni!=40 && uni!=41 && uni!=33 && uni!=63 && uni!=44 && uni!=47 && uni!=92 && uni!=58 && uni!=59){
                    afterArray.push(String.fromCharCode(uni+convertNum));
                } else {
                    afterArray.push(String.fromCharCode(uni));
                }
            })
            after.value = afterArray.join("");
        }

        function del(){
            before.value = '';
            after.value = '';
        }
    </script>
</body>
</html>